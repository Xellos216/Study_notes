## 📘 5. 객체 초기화 관련 정리 (상세 설명)

---

### ❓ Q. Kotlin에서 클래스와 객체를 만들 때 무슨 일이 일어나?

### A. Kotlin에서는 클래스를 선언하면 그건 "설계도"일 뿐이고,

**객체를 생성하는 시점에 실제 코드가 실행**돼요.
이때 객체를 어떻게 초기화할지 정해주는 것이 생성자와 `init`입니다.

---

### 1. **기본 생성자 (Primary Constructor)**

Kotlin에서는 클래스 이름 옆에 바로 괄호 `(...)`를 붙이면
**기본 생성자**가 되는 거야. 자바랑 달리 별도 `constructor` 키워드가 없어도 돼.

```kotlin
class Person(val name: String, val age: Int)
```

이렇게 쓰면 `Person`이라는 클래스를 만들면서
**이름과 나이를 필수로 받아야만 객체를 만들 수 있어.**

```kotlin
val p = Person("은지", 28)
```

---

### 2. **init 블록**

`init`은 말 그대로 **"초기화할 때 실행할 코드 블록"** 이야.

```kotlin
class Person(val name: String, val age: Int) {
    init {
        println("Person 객체가 생성됨: 이름=$name, 나이=$age")
    }
}
```

`init` 블록은 객체가 생성될 때 무조건 실행돼.

* 기본 생성자든
* 보조 생성자든
  무조건 실행돼.

👉 `init`은 로깅, 검증, 공통 세팅에 자주 사용돼.

---

### 3. **보조 생성자 (Secondary Constructor)**

기본 생성자만으로 부족할 때, 다른 방법으로도 객체를 만들고 싶으면
**보조 생성자**를 만들 수 있어.

```kotlin
class Student(val name: String, val grade: Int) {

    // 보조 생성자: 학년 생략하면 자동으로 1학년으로 처리
    constructor(name: String): this(name, 1) {
        println("보조 생성자 호출: $name 학생은 1학년으로 자동 처리됨")
    }

    init {
        println("학생 객체 생성 완료: $name, 학년=$grade")
    }
}
```

---

### 4. **this(...) 호출**

보조 생성자는 반드시 `this(...)`를 통해
**기본 생성자를 먼저 호출해야만** 해.

이건 "기본적인 틀은 무조건 거쳐가라"는 Kotlin의 규칙이야.
그래야 `init` 블록도 빠지지 않고 실행됨.

---

### 🧪 실행 흐름 예시

```kotlin
fun main() {
    val s1 = Student("혜진")         // 보조 생성자 사용
    val s2 = Student("지훈", 3)      // 기본 생성자 사용
}
```

#### 출력 결과:

```
학생 객체 생성 완료: 혜진, 학년=1
보조 생성자 호출: 혜진 학생은 1학년으로 자동 처리됨
학생 객체 생성 완료: 지훈, 학년=3
```

* `s1`은 보조 생성자를 호출했기 때문에
  → 내부적으로 `this(name, 1)`로 기본 생성자 먼저 호출
  → 그 안에서 `init` 실행됨
  → 그다음 보조 생성자 블록이 실행됨

* `s2`는 기본 생성자만 호출 → 바로 `init` 실행

---

### ✅ 정리하면

| 구성 요소        | 역할                         | 호출 시점               |
| ------------ | -------------------------- | ------------------- |
| 기본 생성자       | 클래스의 필수 초기값을 전달받음          | 객체 생성 시 가장 먼저 호출됨   |
| init 블록      | 공통 초기화 로직 수행 (로깅, 검증 등)    | 생성자 호출 직후 자동 실행     |
| 보조 생성자       | 다양한 방식으로 객체를 생성할 수 있게 함    | 직접 호출 시 실행됨         |
| this(...) 호출 | 보조 생성자 → 기본 생성자를 반드시 먼저 호출 | 보조 생성자 내부 첫 줄에서 실행됨 |

---

